.data
mensaje0: .ascii "adios"
mensaje1: .ascii "mundo"
b: .word 10
c: .ascii "hola"
mensaje_concatenado: .space 20
espacio: .ascii " "

.bss
a: .space 4
d: .space 4

.text
.global _start

_start:

	# Se actualiza la variable b
	li t0 100
	la t1 b
	sw t0, 0(t1)

	#Imprimiendo
	la t0, b
	la t1, mensaje_concatenado
	jal ra, copiar_cadena
	la t0, b
	jal ra, obtener_longitud
	add t1, t1, t3
	li a0, 1
	la a1, mensaje_concatenado
	jal ra, obtener_longitud
	mv a2, a1
	li a7, 64
	ecall

	# Se actualiza la variable c
	la t0, mensaje0
	la t1, c
	jal ra, copiar_cadena

	#Imprimiendo
	la t0, c
	la t1, mensaje_concatenado
	jal ra, copiar_cadena
	la t0, c
	jal ra, obtener_longitud
	add t1, t1, t3
	la t0, espacio
	la t1, mensaje_concatenado
	jal ra, copiar_cadena
	la t0, espacio
	jal ra, obtener_longitud
	add t1, t1, t3
	la t0, mensaje1
	la t1, mensaje_concatenado
	jal ra, copiar_cadena
	la t0, mensaje1
	jal ra, obtener_longitud
	add t1, t1, t3
	li a0, 1
	la a1, mensaje_concatenado
	jal ra, obtener_longitud
	mv a2, a1
	li a7, 64
	ecall

	# Salida del programa
	li a7, 93
	li a0, 0
	ecall

#Funciones utilizadas

obtener_longitud:
	longitud_loop:
		lb t2, 0(t0)
		beqz t2, longitud_fin
		addi t0, t0, 1
		addi t3, t3, 1
		j longitud_loop
	longitud_fin:
	ret

copiar_cadena:
	copiar_loop:
		lb t2, 0(t0)
		sb t2, 0(t1)
		addi t0, t0, 1
		addi t1, t1, 1
		bnez t2, copiar_loop
	ret